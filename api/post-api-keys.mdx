---
title: "Create a new API key for specific environment"
api: "POST /v1/api-keys"
description: "Create a new API key for specific environment"
---

## Overview

Create a new API key for specific environment

<Note>
This endpoint requires authentication. Include your API key in the `X-API-Key` header or use Bearer token authentication.
</Note>

## Request

<ParamField body="data" type="object" required>
  Request body data
</ParamField>

## Response Codes

### Success Responses

<ResponseField name="status" type="number">
  HTTP status code: 201
</ResponseField>

<ResponseField name="message" type="string">
  API key created successfully
</ResponseField>

<ResponseField name="data" type="object">
  Response data (ApiKeyResponseDto)
</ResponseField>

## Example Request

<CodeGroup>

```bash cURL
curl -X POST https://api.railsfromthecrypt.com/v1/api-keys \
  -H "X-API-Key: your-api-key-here" \
  -H "Content-Type: application/json" \
  -d '{
    "key": "value"
  }'
```

```javascript JavaScript
const response = await fetch('https://api.railsfromthecrypt.com/v1/api-keys', {
  method: 'POST',
  headers: {
    'X-API-Key': 'your-api-key-here',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    key: 'value'
  })
});

const data = await response.json();
console.log(data);
```

```python Python
import requests

response = requests.post(
    'https://api.railsfromthecrypt.com/v1/api-keys',
    headers={'X-API-Key': 'your-api-key-here', 'Content-Type': 'application/json'},
    json={'key': 'value'}
)

data = response.json()
print(data)
```

</CodeGroup>

## Example Response

<ResponseExample>

```json Success Response (200)
{
  "message": "Success",
  "data": {
    "id": "example_id",
    "status": "active"
  }
}
```

```json Error Response (400)
{
  "message": "Error occurred",
  "error": {
    "code": "GENERIC_ERROR",
    "type": "error"
  }
}
```

</ResponseExample>

## Error Responses

<ResponseField name="message" type="string">
  Error description
</ResponseField>

<ResponseField name="error" type="object">
  Error details
</ResponseField>

### Common Error Codes

<CardGroup cols={2}>
  <Card title="400 Bad Request" icon="exclamation-triangle">
    - **INVALID_REQUEST**: Invalid request format
    
    **Resolution Steps:**
    - Check that your request body is valid JSON
    - Verify all required fields are included
    - Ensure field types match the API specification
    - Check for typos in field names
    
    - **MISSING_FIELDS**: Required fields are missing
    
    **Resolution Steps:**
    - Review the API documentation for required fields
    - Add all mandatory fields to your request
    - Check that field names match exactly (case-sensitive)
    - Verify nested objects have all required properties
    
    - **VALIDATION_ERROR**: Data validation failed
    
    **Resolution Steps:**
    - Check field format requirements (email, phone, etc.)
    - Verify string length limits
    - Ensure numeric values are within allowed ranges
    - Check date format requirements
  </Card>
  <Card title="401 Unauthorized" icon="shield">
    - **INVALID_API_KEY**: API key is missing or invalid
    
    **Resolution Steps:**
    - Verify your API key is correct
    - Check that the API key is included in the X-API-Key header
    - Ensure the API key hasn't been revoked
    - Generate a new API key if necessary
    
    - **API_KEY_EXPIRED**: API key has expired
    
    **Resolution Steps:**
    - Generate a new API key from the dashboard
    - Update your application with the new key
    - Check your API key expiration settings
    - Consider using longer expiration periods for production
    
    - **TOKEN_EXPIRED**: JWT token has expired
    
    **Resolution Steps:**
    - Use the refresh token to get a new access token
    - Implement automatic token refresh in your application
    - Check token expiration time before making requests
    - Handle token refresh errors gracefully
    
    - **INVALID_CREDENTIALS**: Invalid email or password
    
    **Resolution Steps:**
    - Verify your email address is correct
    - Check your password for typos
    - Ensure caps lock is not enabled
    - Try resetting your password if needed
  </Card>
  <Card title="403 Forbidden" icon="lock">
    - **ACCESS_DENIED**: Insufficient permissions
    
    **Resolution Steps:**
    - Check your account permissions in the dashboard
    - Contact support to upgrade your access level
    - Verify you're using the correct API key for your account
    - Ensure your account is not suspended
    
    - **INSUFFICIENT_PERMISSIONS**: Account lacks required permissions
    
    **Resolution Steps:**
    - Review the endpoint requirements in the documentation
    - Upgrade your account plan if needed
    - Contact support for permission adjustments
    - Check if your account needs additional verification
  </Card>
  <Card title="404 Not Found" icon="search">
    - **NOT_FOUND**: Resource not found
    
    **Resolution Steps:**
    - Verify the resource ID is correct
    - Check that the resource hasn't been deleted
    - Ensure you're using the correct endpoint URL
    - Verify the resource belongs to your account
    
    - **RESOURCE_NOT_FOUND**: Requested resource does not exist
    
    **Resolution Steps:**
    - Double-check the resource identifier
    - List available resources first to verify existence
    - Check if the resource was created in a different environment
    - Verify you have access to the resource
    
    - **ENDPOINT_NOT_FOUND**: API endpoint not found
    
    **Resolution Steps:**
    - Check the endpoint URL for typos
    - Verify you're using the correct API version
    - Review the API documentation for the correct endpoint
    - Ensure the endpoint is available in your environment
  </Card>
  <Card title="409 Conflict" icon="exclamation-circle">
    - **CONFLICT**: Resource already exists
    
    **Resolution Steps:**
    - Check if the resource already exists before creating
    - Use PUT instead of POST for updates
    - Handle the conflict by updating the existing resource
    - Implement proper conflict resolution logic
    
    - **DUPLICATE_RESOURCE**: Resource with same identifier exists
    
    **Resolution Steps:**
    - Use a unique identifier for the new resource
    - Check existing resources before creation
    - Implement proper duplicate detection
    - Consider using upsert operations where available
  </Card>
  <Card title="422 Unprocessable Entity" icon="exclamation-triangle">
    - **VALIDATION_ERROR**: Data validation failed
    
    **Resolution Steps:**
    - Review the validation error details in the response
    - Check field format requirements
    - Verify data types and constraints
    - Fix the validation errors and retry
    
    - **INVALID_DATA**: Invalid data provided
    
    **Resolution Steps:**
    - Check the error response for specific field errors
    - Verify data format and constraints
    - Ensure all required fields are properly formatted
    - Review the API schema for correct data types
  </Card>
  <Card title="429 Too Many Requests" icon="clock">
    - **RATE_LIMIT_EXCEEDED**: Too many requests
    
    **Resolution Steps:**
    - Implement exponential backoff in your application
    - Reduce the frequency of API calls
    - Check your rate limit status in the dashboard
    - Consider upgrading your plan for higher limits
    
    - **QUOTA_EXCEEDED**: API quota exceeded
    
    **Resolution Steps:**
    - Check your current usage in the dashboard
    - Wait for the quota to reset or upgrade your plan
    - Implement proper rate limiting in your application
    - Consider caching responses to reduce API calls
  </Card>
  <Card title="500 Internal Server Error" icon="server">
    - **INTERNAL_ERROR**: Unexpected server error
    
    **Resolution Steps:**
    - Retry the request after a short delay
    - Check the API status page for known issues
    - Contact support if the error persists
    - Implement proper error handling and retry logic
    
    - **SERVER_ERROR**: Server encountered an error
    
    **Resolution Steps:**
    - Wait a few minutes and retry the request
    - Check for any ongoing maintenance windows
    - Verify your request format is correct
    - Contact support with the error details if it continues
  </Card>
  <Card title="502 Bad Gateway" icon="server">
    - **BAD_GATEWAY**: Gateway error
    
    **Resolution Steps:**
    - Retry the request after a short delay
    - Check the API status page for service issues
    - Verify your request is properly formatted
    - Contact support if the issue persists
  </Card>
  <Card title="503 Service Unavailable" icon="server">
    - **SERVICE_UNAVAILABLE**: Service temporarily unavailable
    
    **Resolution Steps:**
    - Wait a few minutes and retry the request
    - Check the API status page for maintenance windows
    - Implement exponential backoff for retries
    - Contact support if the service remains unavailable
  </Card>
</CardGroup>

